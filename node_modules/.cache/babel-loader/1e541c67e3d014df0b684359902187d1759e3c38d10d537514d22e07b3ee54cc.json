{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef } from 'react';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport styles from './styles.css.js';\nimport { LeftIcon, RightIcon } from './icon-helper';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport LiveRegion from '../internal/components/live-region';\nimport { useButtonContext } from '../internal/context/button-context';\nimport { useFunnel } from '../internal/analytics/hooks/use-funnel';\nexport const InternalButton = React.forwardRef((_a, ref) => {\n  var {\n      children,\n      iconName,\n      __iconClass,\n      onClick,\n      onFollow,\n      iconAlign = 'left',\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant = 'normal',\n      loading = false,\n      loadingText,\n      disabled = false,\n      wrapText = true,\n      href,\n      target,\n      rel,\n      download,\n      formAction = 'submit',\n      ariaLabel,\n      ariaDescribedby,\n      ariaExpanded,\n      fullWidth,\n      __nativeAttributes,\n      __internalRootRef = null,\n      __activated = false\n    } = _a,\n    props = __rest(_a, [\"children\", \"iconName\", \"__iconClass\", \"onClick\", \"onFollow\", \"iconAlign\", \"iconUrl\", \"iconSvg\", \"iconAlt\", \"variant\", \"loading\", \"loadingText\", \"disabled\", \"wrapText\", \"href\", \"target\", \"rel\", \"download\", \"formAction\", \"ariaLabel\", \"ariaDescribedby\", \"ariaExpanded\", \"fullWidth\", \"__nativeAttributes\", \"__internalRootRef\", \"__activated\"]);\n  checkSafeUrl('Button', href);\n  const isAnchor = Boolean(href);\n  const isNotInteractive = loading || disabled;\n  const shouldHaveContent = children && ['icon', 'inline-icon', 'flashbar-icon', 'modal-dismiss'].indexOf(variant) === -1;\n  const buttonRef = useRef(null);\n  useForwardFocus(ref, buttonRef);\n  const buttonContext = useButtonContext();\n  const handleClick = event => {\n    if (isNotInteractive) {\n      return event.preventDefault();\n    }\n    if (isAnchor && isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, {\n        href,\n        target\n      }, event);\n    }\n    const {\n      altKey,\n      button,\n      ctrlKey,\n      metaKey,\n      shiftKey\n    } = event;\n    fireCancelableEvent(onClick, {\n      altKey,\n      button,\n      ctrlKey,\n      metaKey,\n      shiftKey\n    }, event);\n    buttonContext.onClick({\n      variant\n    });\n  };\n  const buttonClass = clsx(props.className, styles.button, styles[`variant-${variant}`], {\n    [styles.disabled]: isNotInteractive,\n    [styles['button-no-wrap']]: !wrapText,\n    [styles['button-no-text']]: !shouldHaveContent,\n    [styles['is-activated']]: __activated,\n    [styles['full-width']]: shouldHaveContent && fullWidth\n  });\n  const buttonProps = Object.assign(Object.assign(Object.assign({}, props), __nativeAttributes), {\n    // https://github.com/microsoft/TypeScript/issues/36659\n    ref: useMergeRefs(buttonRef, __internalRootRef),\n    'aria-label': ariaLabel,\n    'aria-describedby': ariaDescribedby,\n    'aria-expanded': ariaExpanded,\n    // add ariaLabel as `title` as visible hint text\n    title: ariaLabel,\n    className: buttonClass,\n    onClick: handleClick\n  });\n  const iconProps = {\n    loading,\n    iconName,\n    iconAlign,\n    iconUrl,\n    iconSvg,\n    iconAlt,\n    variant,\n    iconClass: __iconClass,\n    iconSize: variant === 'modal-dismiss' ? 'medium' : 'normal'\n  };\n  const buttonContent = React.createElement(React.Fragment, null, React.createElement(LeftIcon, Object.assign({}, iconProps)), shouldHaveContent && React.createElement(\"span\", {\n    className: styles.content\n  }, children), React.createElement(RightIcon, Object.assign({}, iconProps)));\n  const {\n    loadingButtonCount\n  } = useFunnel();\n  useEffect(() => {\n    if (loading) {\n      loadingButtonCount.current++;\n      return () => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        loadingButtonCount.current--;\n      };\n    }\n  }, [loading, loadingButtonCount]);\n  if (isAnchor) {\n    return (\n      // https://github.com/yannickcr/eslint-plugin-react/issues/2962\n      // eslint-disable-next-line react/jsx-no-target-blank\n      React.createElement(React.Fragment, null, React.createElement(\"a\", Object.assign({}, buttonProps, {\n        href: href,\n        target: target,\n        // security recommendation: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target\n        rel: rel !== null && rel !== void 0 ? rel : target === '_blank' ? 'noopener noreferrer' : undefined,\n        tabIndex: isNotInteractive ? -1 : undefined,\n        \"aria-disabled\": isNotInteractive ? true : undefined,\n        download: download\n      }), buttonContent), loading && loadingText && React.createElement(LiveRegion, null, loadingText))\n    );\n  }\n  return React.createElement(React.Fragment, null, React.createElement(\"button\", Object.assign({}, buttonProps, {\n    type: formAction === 'none' ? 'button' : 'submit',\n    disabled: disabled,\n    \"aria-disabled\": loading && !disabled ? true : undefined\n  }), buttonContent), loading && loadingText && React.createElement(LiveRegion, null, loadingText));\n});\nexport default InternalButton;","map":{"version":3,"names":["clsx","React","useEffect","useRef","fireCancelableEvent","isPlainLeftClick","useForwardFocus","styles","LeftIcon","RightIcon","checkSafeUrl","useMergeRefs","LiveRegion","useButtonContext","useFunnel","InternalButton","forwardRef","_a","ref","children","iconName","__iconClass","onClick","onFollow","iconAlign","iconUrl","iconSvg","iconAlt","variant","loading","loadingText","disabled","wrapText","href","target","rel","download","formAction","ariaLabel","ariaDescribedby","ariaExpanded","fullWidth","__nativeAttributes","__internalRootRef","__activated","props","__rest","isAnchor","Boolean","isNotInteractive","shouldHaveContent","indexOf","buttonRef","buttonContext","handleClick","event","preventDefault","altKey","button","ctrlKey","metaKey","shiftKey","buttonClass","className","buttonProps","Object","assign","title","iconProps","iconClass","iconSize","buttonContent","createElement","Fragment","content","loadingButtonCount","current","undefined","tabIndex","type"],"sources":["/Users/nathanwang/Downloads/aws_project/face2alias_aws/node_modules/@cloudscape-design/components/button/lib/default/button/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef } from 'react';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport styles from './styles.css.js';\nimport { ButtonIconProps, LeftIcon, RightIcon } from './icon-helper';\nimport { ButtonProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport LiveRegion from '../internal/components/live-region';\nimport { useButtonContext } from '../internal/context/button-context';\nimport { useFunnel } from '../internal/analytics/hooks/use-funnel';\n\nexport type InternalButtonProps = Omit<ButtonProps, 'variant'> & {\n  variant?: ButtonProps['variant'] | 'flashbar-icon' | 'breadcrumb-group' | 'menu-trigger' | 'modal-dismiss';\n  __nativeAttributes?: Record<string, any>;\n  __iconClass?: string;\n  __activated?: boolean;\n} & InternalBaseComponentProps;\n\nexport const InternalButton = React.forwardRef(\n  (\n    {\n      children,\n      iconName,\n      __iconClass,\n      onClick,\n      onFollow,\n      iconAlign = 'left',\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant = 'normal',\n      loading = false,\n      loadingText,\n      disabled = false,\n      wrapText = true,\n      href,\n      target,\n      rel,\n      download,\n      formAction = 'submit',\n      ariaLabel,\n      ariaDescribedby,\n      ariaExpanded,\n      fullWidth,\n      __nativeAttributes,\n      __internalRootRef = null,\n      __activated = false,\n      ...props\n    }: InternalButtonProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    checkSafeUrl('Button', href);\n    const isAnchor = Boolean(href);\n    const isNotInteractive = loading || disabled;\n    const shouldHaveContent =\n      children && ['icon', 'inline-icon', 'flashbar-icon', 'modal-dismiss'].indexOf(variant) === -1;\n\n    const buttonRef = useRef<HTMLElement>(null);\n    useForwardFocus(ref, buttonRef);\n\n    const buttonContext = useButtonContext();\n\n    const handleClick = (event: React.MouseEvent) => {\n      if (isNotInteractive) {\n        return event.preventDefault();\n      }\n\n      if (isAnchor && isPlainLeftClick(event)) {\n        fireCancelableEvent(onFollow, { href, target }, event);\n      }\n\n      const { altKey, button, ctrlKey, metaKey, shiftKey } = event;\n      fireCancelableEvent(onClick, { altKey, button, ctrlKey, metaKey, shiftKey }, event);\n      buttonContext.onClick({ variant });\n    };\n\n    const buttonClass = clsx(props.className, styles.button, styles[`variant-${variant}`], {\n      [styles.disabled]: isNotInteractive,\n      [styles['button-no-wrap']]: !wrapText,\n      [styles['button-no-text']]: !shouldHaveContent,\n      [styles['is-activated']]: __activated,\n      [styles['full-width']]: shouldHaveContent && fullWidth,\n    });\n\n    const buttonProps = {\n      ...props,\n      ...__nativeAttributes,\n      // https://github.com/microsoft/TypeScript/issues/36659\n      ref: useMergeRefs(buttonRef as any, __internalRootRef),\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedby,\n      'aria-expanded': ariaExpanded,\n      // add ariaLabel as `title` as visible hint text\n      title: ariaLabel,\n      className: buttonClass,\n      onClick: handleClick,\n    } as const;\n    const iconProps: ButtonIconProps = {\n      loading,\n      iconName,\n      iconAlign,\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant,\n      iconClass: __iconClass,\n      iconSize: variant === 'modal-dismiss' ? 'medium' : 'normal',\n    };\n    const buttonContent = (\n      <>\n        <LeftIcon {...iconProps} />\n        {shouldHaveContent && <span className={styles.content}>{children}</span>}\n        <RightIcon {...iconProps} />\n      </>\n    );\n\n    const { loadingButtonCount } = useFunnel();\n    useEffect(() => {\n      if (loading) {\n        loadingButtonCount.current++;\n        return () => {\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          loadingButtonCount.current--;\n        };\n      }\n    }, [loading, loadingButtonCount]);\n\n    if (isAnchor) {\n      return (\n        // https://github.com/yannickcr/eslint-plugin-react/issues/2962\n        // eslint-disable-next-line react/jsx-no-target-blank\n        <>\n          <a\n            {...buttonProps}\n            href={href}\n            target={target}\n            // security recommendation: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target\n            rel={rel ?? (target === '_blank' ? 'noopener noreferrer' : undefined)}\n            tabIndex={isNotInteractive ? -1 : undefined}\n            aria-disabled={isNotInteractive ? true : undefined}\n            download={download}\n          >\n            {buttonContent}\n          </a>\n          {loading && loadingText && <LiveRegion>{loadingText}</LiveRegion>}\n        </>\n      );\n    }\n    return (\n      <>\n        <button\n          {...buttonProps}\n          type={formAction === 'none' ? 'button' : 'submit'}\n          disabled={disabled}\n          aria-disabled={loading && !disabled ? true : undefined}\n        >\n          {buttonContent}\n        </button>\n        {loading && loadingText && <LiveRegion>{loadingText}</LiveRegion>}\n      </>\n    );\n  }\n);\n\nexport default InternalButton;\n"],"mappings":";AAAA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,mBAAmB,EAAEC,gBAAgB,QAAQ,oBAAoB;AAC1E,OAAOC,eAAe,MAAM,iCAAiC;AAC7D,OAAOC,MAAM,MAAM,iBAAiB;AACpC,SAA0BC,QAAQ,EAAEC,SAAS,QAAQ,eAAe;AAGpE,SAASC,YAAY,QAAQ,kCAAkC;AAC/D,SAASC,YAAY,QAAQ,kCAAkC;AAC/D,OAAOC,UAAU,MAAM,oCAAoC;AAC3D,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,SAASC,SAAS,QAAQ,wCAAwC;AASlE,OAAO,MAAMC,cAAc,GAAGd,KAAK,CAACe,UAAU,CAC5C,CACEC,EA4BsB,EACtBC,GAA+B,KAC7B;MA9BF;MACEC,QAAQ;MACRC,QAAQ;MACRC,WAAW;MACXC,OAAO;MACPC,QAAQ;MACRC,SAAS,GAAG,MAAM;MAClBC,OAAO;MACPC,OAAO;MACPC,OAAO;MACPC,OAAO,GAAG,QAAQ;MAClBC,OAAO,GAAG,KAAK;MACfC,WAAW;MACXC,QAAQ,GAAG,KAAK;MAChBC,QAAQ,GAAG,IAAI;MACfC,IAAI;MACJC,MAAM;MACNC,GAAG;MACHC,QAAQ;MACRC,UAAU,GAAG,QAAQ;MACrBC,SAAS;MACTC,eAAe;MACfC,YAAY;MACZC,SAAS;MACTC,kBAAkB;MAClBC,iBAAiB,GAAG,IAAI;MACxBC,WAAW,GAAG;IAAK,IAAA3B,EAEC;IADjB4B,KAAK,GAAAC,MAAA,CAAA7B,EAAA,EA3BV,mVA4BC,CADS;EAIVP,YAAY,CAAC,QAAQ,EAAEuB,IAAI,CAAC;EAC5B,MAAMc,QAAQ,GAAGC,OAAO,CAACf,IAAI,CAAC;EAC9B,MAAMgB,gBAAgB,GAAGpB,OAAO,IAAIE,QAAQ;EAC5C,MAAMmB,iBAAiB,GACrB/B,QAAQ,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,eAAe,CAAC,CAACgC,OAAO,CAACvB,OAAO,CAAC,KAAK,CAAC,CAAC;EAE/F,MAAMwB,SAAS,GAAGjD,MAAM,CAAc,IAAI,CAAC;EAC3CG,eAAe,CAACY,GAAG,EAAEkC,SAAS,CAAC;EAE/B,MAAMC,aAAa,GAAGxC,gBAAgB,EAAE;EAExC,MAAMyC,WAAW,GAAIC,KAAuB,IAAI;IAC9C,IAAIN,gBAAgB,EAAE;MACpB,OAAOM,KAAK,CAACC,cAAc,EAAE;;IAG/B,IAAIT,QAAQ,IAAI1C,gBAAgB,CAACkD,KAAK,CAAC,EAAE;MACvCnD,mBAAmB,CAACmB,QAAQ,EAAE;QAAEU,IAAI;QAAEC;MAAM,CAAE,EAAEqB,KAAK,CAAC;;IAGxD,MAAM;MAAEE,MAAM;MAAEC,MAAM;MAAEC,OAAO;MAAEC,OAAO;MAAEC;IAAQ,CAAE,GAAGN,KAAK;IAC5DnD,mBAAmB,CAACkB,OAAO,EAAE;MAAEmC,MAAM;MAAEC,MAAM;MAAEC,OAAO;MAAEC,OAAO;MAAEC;IAAQ,CAAE,EAAEN,KAAK,CAAC;IACnFF,aAAa,CAAC/B,OAAO,CAAC;MAAEM;IAAO,CAAE,CAAC;EACpC,CAAC;EAED,MAAMkC,WAAW,GAAG9D,IAAI,CAAC6C,KAAK,CAACkB,SAAS,EAAExD,MAAM,CAACmD,MAAM,EAAEnD,MAAM,CAAC,WAAWqB,OAAO,EAAE,CAAC,EAAE;IACrF,CAACrB,MAAM,CAACwB,QAAQ,GAAGkB,gBAAgB;IACnC,CAAC1C,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAACyB,QAAQ;IACrC,CAACzB,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAAC2C,iBAAiB;IAC9C,CAAC3C,MAAM,CAAC,cAAc,CAAC,GAAGqC,WAAW;IACrC,CAACrC,MAAM,CAAC,YAAY,CAAC,GAAG2C,iBAAiB,IAAIT;GAC9C,CAAC;EAEF,MAAMuB,WAAW,GAAGC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACfrB,KAAK,GACLH,kBAAkB;IACrB;IACAxB,GAAG,EAAEP,YAAY,CAACyC,SAAgB,EAAET,iBAAiB,CAAC;IACtD,YAAY,EAAEL,SAAS;IACvB,kBAAkB,EAAEC,eAAe;IACnC,eAAe,EAAEC,YAAY;IAC7B;IACA2B,KAAK,EAAE7B,SAAS;IAChByB,SAAS,EAAED,WAAW;IACtBxC,OAAO,EAAEgC;EAAW,EACZ;EACV,MAAMc,SAAS,GAAoB;IACjCvC,OAAO;IACPT,QAAQ;IACRI,SAAS;IACTC,OAAO;IACPC,OAAO;IACPC,OAAO;IACPC,OAAO;IACPyC,SAAS,EAAEhD,WAAW;IACtBiD,QAAQ,EAAE1C,OAAO,KAAK,eAAe,GAAG,QAAQ,GAAG;GACpD;EACD,MAAM2C,aAAa,GACjBtE,KAAA,CAAAuE,aAAA,CAAAvE,KAAA,CAAAwE,QAAA,QACExE,KAAA,CAAAuE,aAAA,CAAChE,QAAQ,EAAAyD,MAAA,CAAAC,MAAA,KAAKE,SAAS,EAAI,EAC1BlB,iBAAiB,IAAIjD,KAAA,CAAAuE,aAAA;IAAMT,SAAS,EAAExD,MAAM,CAACmE;EAAO,GAAGvD,QAAQ,CAAQ,EACxElB,KAAA,CAAAuE,aAAA,CAAC/D,SAAS,EAAAwD,MAAA,CAAAC,MAAA,KAAKE,SAAS,EAAI,CAE/B;EAED,MAAM;IAAEO;EAAkB,CAAE,GAAG7D,SAAS,EAAE;EAC1CZ,SAAS,CAAC,MAAK;IACb,IAAI2B,OAAO,EAAE;MACX8C,kBAAkB,CAACC,OAAO,EAAE;MAC5B,OAAO,MAAK;QACV;QACAD,kBAAkB,CAACC,OAAO,EAAE;MAC9B,CAAC;;EAEL,CAAC,EAAE,CAAC/C,OAAO,EAAE8C,kBAAkB,CAAC,CAAC;EAEjC,IAAI5B,QAAQ,EAAE;IACZ;MACE;MACA;MACA9C,KAAA,CAAAuE,aAAA,CAAAvE,KAAA,CAAAwE,QAAA,QACExE,KAAA,CAAAuE,aAAA,MAAAP,MAAA,CAAAC,MAAA,KACMF,WAAW;QACf/B,IAAI,EAAEA,IAAI;QACVC,MAAM,EAAEA,MAAM;QACd;QACAC,GAAG,EAAEA,GAAG,aAAHA,GAAG,cAAHA,GAAG,GAAKD,MAAM,KAAK,QAAQ,GAAG,qBAAqB,GAAG2C,SAAU;QACrEC,QAAQ,EAAE7B,gBAAgB,GAAG,CAAC,CAAC,GAAG4B,SAAS;QAAA,iBAC5B5B,gBAAgB,GAAG,IAAI,GAAG4B,SAAS;QAClDzC,QAAQ,EAAEA;MAAQ,IAEjBmC,aAAa,CACZ,EACH1C,OAAO,IAAIC,WAAW,IAAI7B,KAAA,CAAAuE,aAAA,CAAC5D,UAAU,QAAEkB,WAAW,CAAc;IAChE;;EAGP,OACE7B,KAAA,CAAAuE,aAAA,CAAAvE,KAAA,CAAAwE,QAAA,QACExE,KAAA,CAAAuE,aAAA,WAAAP,MAAA,CAAAC,MAAA,KACMF,WAAW;IACfe,IAAI,EAAE1C,UAAU,KAAK,MAAM,GAAG,QAAQ,GAAG,QAAQ;IACjDN,QAAQ,EAAEA,QAAQ;IAAA,iBACHF,OAAO,IAAI,CAACE,QAAQ,GAAG,IAAI,GAAG8C;EAAS,IAErDN,aAAa,CACP,EACR1C,OAAO,IAAIC,WAAW,IAAI7B,KAAA,CAAAuE,aAAA,CAAC5D,UAAU,QAAEkB,WAAW,CAAc,CAChE;AAEP,CAAC,CACF;AAED,eAAef,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}