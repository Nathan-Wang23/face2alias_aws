{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport InternalIcon from '../../icon/internal';\nexport function useDropzoneVisible() {\n  const [isDropzoneVisible, setDropzoneVisible] = useState(false);\n  // Registering global drag events listeners.\n  useEffect(() => {\n    // The timer helps avoiding dropzone blinking.\n    let dragTimer = null;\n    // The file-upload dropzone is shown when the user drags files over to the browser.\n    const onDocumentDragOver = event => {\n      var _a, _b;\n      event.preventDefault();\n      if (((_b = (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.types) === null || _b === void 0 ? void 0 : _b.indexOf('Files')) !== -1) {\n        setDropzoneVisible(true);\n        dragTimer && clearTimeout(dragTimer);\n      }\n    };\n    // When the files are no longer dragged over the browser the state must be reset.\n    const onDocumentDragLeave = event => {\n      event.preventDefault();\n      dragTimer = setTimeout(() => setDropzoneVisible(false), 25);\n    };\n    // If the files were dropped the state must be reset.\n    const onDocumentDrop = event => {\n      event.preventDefault();\n      dragTimer = setTimeout(() => setDropzoneVisible(false), 25);\n    };\n    document.addEventListener('dragover', onDocumentDragOver, false);\n    document.addEventListener('dragleave', onDocumentDragLeave, false);\n    document.addEventListener('drop', onDocumentDrop, false);\n    return () => {\n      dragTimer && clearTimeout(dragTimer);\n      document.removeEventListener('dragover', onDocumentDragOver);\n      document.removeEventListener('dragleave', onDocumentDragLeave);\n      document.removeEventListener('drop', onDocumentDrop);\n    };\n  }, []);\n  return isDropzoneVisible;\n}\nexport function Dropzone(_ref) {\n  let {\n    onChange,\n    children\n  } = _ref;\n  const [isDropzoneHovered, setDropzoneHovered] = useState(false);\n  const onDragOver = event => {\n    event.preventDefault();\n    setDropzoneHovered(true);\n    if (event.dataTransfer) {\n      event.dataTransfer.dropEffect = 'copy';\n    }\n  };\n  const onDragLeave = event => {\n    event.preventDefault();\n    setDropzoneHovered(false);\n    if (event.dataTransfer) {\n      event.dataTransfer.dropEffect = 'none';\n    }\n  };\n  const onDrop = event => {\n    event.preventDefault();\n    setDropzoneHovered(false);\n    onChange(Array.from(event.dataTransfer.files));\n  };\n  return React.createElement(\"div\", {\n    className: clsx(styles.dropzone, isDropzoneHovered && styles['dropzone-hovered']),\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop\n  }, React.createElement(InternalIcon, {\n    name: \"upload\"\n  }), React.createElement(\"span\", null, children));\n}","map":{"version":3,"names":["React","useEffect","useState","styles","clsx","InternalIcon","useDropzoneVisible","isDropzoneVisible","setDropzoneVisible","dragTimer","onDocumentDragOver","event","preventDefault","_b","_a","dataTransfer","types","indexOf","clearTimeout","onDocumentDragLeave","setTimeout","onDocumentDrop","document","addEventListener","removeEventListener","Dropzone","_ref","onChange","children","isDropzoneHovered","setDropzoneHovered","onDragOver","dropEffect","onDragLeave","onDrop","Array","from","files","createElement","className","dropzone","name"],"sources":["/Users/nathanwang/Downloads/aws_project/face2alias_aws/node_modules/@cloudscape-design/components/file-upload/dropzone/lib/default/file-upload/dropzone/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useEffect, useState } from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport InternalIcon from '../../icon/internal';\n\ninterface DropzoneProps {\n  onChange: (files: File[]) => void;\n  children: React.ReactNode;\n}\n\nexport function useDropzoneVisible() {\n  const [isDropzoneVisible, setDropzoneVisible] = useState(false);\n\n  // Registering global drag events listeners.\n  useEffect(() => {\n    // The timer helps avoiding dropzone blinking.\n    let dragTimer: null | ReturnType<typeof setTimeout> = null;\n\n    // The file-upload dropzone is shown when the user drags files over to the browser.\n    const onDocumentDragOver = (event: DragEvent) => {\n      event.preventDefault();\n\n      if (event.dataTransfer?.types?.indexOf('Files') !== -1) {\n        setDropzoneVisible(true);\n        dragTimer && clearTimeout(dragTimer);\n      }\n    };\n\n    // When the files are no longer dragged over the browser the state must be reset.\n    const onDocumentDragLeave = (event: DragEvent) => {\n      event.preventDefault();\n\n      dragTimer = setTimeout(() => setDropzoneVisible(false), 25);\n    };\n\n    // If the files were dropped the state must be reset.\n    const onDocumentDrop = (event: DragEvent) => {\n      event.preventDefault();\n\n      dragTimer = setTimeout(() => setDropzoneVisible(false), 25);\n    };\n\n    document.addEventListener('dragover', onDocumentDragOver, false);\n    document.addEventListener('dragleave', onDocumentDragLeave, false);\n    document.addEventListener('drop', onDocumentDrop, false);\n\n    return () => {\n      dragTimer && clearTimeout(dragTimer);\n      document.removeEventListener('dragover', onDocumentDragOver);\n      document.removeEventListener('dragleave', onDocumentDragLeave);\n      document.removeEventListener('drop', onDocumentDrop);\n    };\n  }, []);\n\n  return isDropzoneVisible;\n}\n\nexport function Dropzone({ onChange, children }: DropzoneProps) {\n  const [isDropzoneHovered, setDropzoneHovered] = useState(false);\n\n  const onDragOver = (event: React.DragEvent) => {\n    event.preventDefault();\n    setDropzoneHovered(true);\n\n    if (event.dataTransfer) {\n      event.dataTransfer.dropEffect = 'copy';\n    }\n  };\n\n  const onDragLeave = (event: React.DragEvent) => {\n    event.preventDefault();\n    setDropzoneHovered(false);\n\n    if (event.dataTransfer) {\n      event.dataTransfer.dropEffect = 'none';\n    }\n  };\n\n  const onDrop = (event: React.DragEvent) => {\n    event.preventDefault();\n    setDropzoneHovered(false);\n\n    onChange(Array.from(event.dataTransfer.files));\n  };\n\n  return (\n    <div\n      className={clsx(styles.dropzone, isDropzoneHovered && styles['dropzone-hovered'])}\n      onDragOver={onDragOver}\n      onDragLeave={onDragLeave}\n      onDrop={onDrop}\n    >\n      <InternalIcon name=\"upload\" />\n      <span>{children}</span>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}