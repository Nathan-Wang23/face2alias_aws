{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Flash } from './flash';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { TransitionGroup } from 'react-transition-group';\nimport { Transition } from '../internal/components/transition';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport styles from './styles.css.js';\nimport { useFlashbar } from './common';\nimport { useInternalI18n } from '../internal/i18n/context';\nexport default function NonCollapsibleFlashbar(_a) {\n  var {\n      items,\n      i18nStrings\n    } = _a,\n    restProps = __rest(_a, [\"items\", \"i18nStrings\"]);\n  const {\n    allItemsHaveId,\n    baseProps,\n    breakpoint,\n    isReducedMotion,\n    isVisualRefresh,\n    mergedRef\n  } = useFlashbar(Object.assign({\n    items\n  }, restProps));\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.ariaLabel);\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      React.createElement(TransitionGroup, {\n        component: \"ul\",\n        className: styles['flash-list'],\n        \"aria-label\": ariaLabel\n      }, items.map((item, index) => {\n        var _a;\n        return React.createElement(Transition, {\n          transitionChangeDelay: {\n            entering: TIMEOUT_FOR_ENTERING_ANIMATION\n          },\n          key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n          in: true\n        }, (state, transitionRootElement) => {\n          var _a;\n          return React.createElement(\"li\", {\n            className: styles['flash-list-item']\n          }, renderItem(item, (_a = item.id) !== null && _a !== void 0 ? _a : index, transitionRootElement, state));\n        });\n      }))\n    );\n  }\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n    return React.createElement(\"ul\", {\n      className: styles['flash-list'],\n      \"aria-label\": ariaLabel\n    }, items.map((item, index) => {\n      var _a, _b;\n      return React.createElement(\"li\", {\n        key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n        className: styles['flash-list-item']\n      }, renderItem(item, (_b = item.id) !== null && _b !== void 0 ? _b : index));\n    }));\n  }\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(item, key, transitionRootElement, transitionState) {\n    return React.createElement(Flash\n    // eslint-disable-next-line react/forbid-component-props\n    , Object.assign({\n      // eslint-disable-next-line react/forbid-component-props\n      className: clsx(getVisualContextClassname('flashbar'), animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh']),\n      key: key,\n      ref: transitionRootElement,\n      transitionState: transitionState\n    }, item));\n  }\n  return React.createElement(\"div\", Object.assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`]),\n    ref: mergedRef\n  }), renderFlatItemsWithTransitions(), renderFlatItemsWithoutTransitions());\n}","map":{"version":3,"names":["clsx","React","Flash","TIMEOUT_FOR_ENTERING_ANIMATION","TransitionGroup","Transition","getVisualContextClassname","styles","useFlashbar","useInternalI18n","NonCollapsibleFlashbar","_a","items","i18nStrings","restProps","__rest","allItemsHaveId","baseProps","breakpoint","isReducedMotion","isVisualRefresh","mergedRef","Object","assign","i18n","ariaLabel","motionDisabled","animateFlash","renderFlatItemsWithTransitions","createElement","component","className","map","item","index","transitionChangeDelay","entering","key","id","in","state","transitionRootElement","renderItem","renderFlatItemsWithoutTransitions","_b","transitionState","ref","flashbar"],"sources":["/Users/ndwang/Documents/projects/face2alias_aws/node_modules/@cloudscape-design/components/flashbar/lib/default/flashbar/non-collapsible-flashbar.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Flash } from './flash';\nimport { FlashbarProps } from './interfaces';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { TransitionGroup } from 'react-transition-group';\nimport { Transition } from '../internal/components/transition';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\n\nimport styles from './styles.css.js';\nimport { useFlashbar } from './common';\nimport { useInternalI18n } from '../internal/i18n/context';\n\nexport { FlashbarProps };\n\nexport default function NonCollapsibleFlashbar({ items, i18nStrings, ...restProps }: FlashbarProps) {\n  const { allItemsHaveId, baseProps, breakpoint, isReducedMotion, isVisualRefresh, mergedRef } = useFlashbar({\n    items,\n    ...restProps,\n  });\n\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings?.ariaLabel);\n\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      <TransitionGroup component=\"ul\" className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <Transition\n            transitionChangeDelay={{ entering: TIMEOUT_FOR_ENTERING_ANIMATION }}\n            key={item.id ?? index}\n            in={true}\n          >\n            {(state: string, transitionRootElement: React.Ref<HTMLDivElement> | undefined) => (\n              <li className={styles['flash-list-item']}>\n                {renderItem(item, item.id ?? index, transitionRootElement, state)}\n              </li>\n            )}\n          </Transition>\n        ))}\n      </TransitionGroup>\n    );\n  }\n\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      <ul className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <li key={item.id ?? index} className={styles['flash-list-item']}>\n            {renderItem(item, item.id ?? index)}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(\n    item: FlashbarProps.MessageDefinition,\n    key: string | number,\n    transitionRootElement?: React.Ref<HTMLDivElement> | undefined,\n    transitionState?: string | undefined\n  ) {\n    return (\n      <Flash\n        // eslint-disable-next-line react/forbid-component-props\n        className={clsx(\n          getVisualContextClassname('flashbar'),\n          animateFlash && styles['flash-with-motion'],\n          isVisualRefresh && styles['flash-refresh']\n        )}\n        key={key}\n        ref={transitionRootElement}\n        transitionState={transitionState}\n        {...item}\n      />\n    );\n  }\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`])}\n      ref={mergedRef}\n    >\n      {renderFlatItemsWithTransitions()}\n      {renderFlatItemsWithoutTransitions()}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}