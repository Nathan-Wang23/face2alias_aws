{"ast":null,"code":"import React from 'react';\nimport InternalSpinner from '../spinner/internal';\nimport InternalIcon from '../icon/internal';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../button/internal';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { isDevelopment } from '../internal/is-development';\nimport { throttle } from '../internal/utils/throttle';\nimport LiveRegion from '../internal/components/live-region';\nimport { sendDismissMetric } from './internal/analytics';\nimport { FOCUS_THROTTLE_DELAY } from './utils';\nimport { DATA_ATTR_ANALYTICS_FLASHBAR } from '../internal/analytics/selectors';\nconst ICON_TYPES = {\n  success: 'status-positive',\n  warning: 'status-warning',\n  info: 'status-info',\n  error: 'status-negative',\n  'in-progress': 'status-in-progress'\n};\nfunction actionButton(buttonText, onButtonClick) {\n  return React.createElement(InternalButton, {\n    onClick: onButtonClick,\n    className: styles['action-button'],\n    formAction: \"none\"\n  }, buttonText);\n}\nfunction dismissButton(dismissLabel, onDismiss) {\n  return React.createElement(\"div\", {\n    className: styles['dismiss-button-wrapper']\n  }, React.createElement(InternalButton, {\n    onClick: onDismiss,\n    className: styles['dismiss-button'],\n    variant: \"flashbar-icon\",\n    iconName: \"close\",\n    formAction: \"none\",\n    ariaLabel: dismissLabel\n  }));\n}\nexport const focusFlashById = throttle((element, itemId) => {\n  var _a;\n  const selector = `[data-itemid=\"${CSS.escape(itemId)}\"] .${styles['flash-focus-container']}`;\n  (_a = element === null || element === void 0 ? void 0 : element.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.focus();\n}, FOCUS_THROTTLE_DELAY, {\n  trailing: false\n});\nexport const Flash = React.forwardRef((_ref, ref) => {\n  let {\n    id,\n    header,\n    content,\n    dismissible,\n    dismissLabel,\n    statusIconAriaLabel,\n    loading,\n    action,\n    buttonText,\n    onButtonClick,\n    onDismiss,\n    className,\n    transitionState,\n    ariaRole,\n    type = 'info'\n  } = _ref;\n  if (isDevelopment) {\n    if (buttonText && !onButtonClick) {\n      warnOnce('Flashbar', `You provided a \\`buttonText\\` prop without an \\`onButtonClick\\` handler. This will render a non-interactive action button.`);\n    }\n    if (dismissible && !onDismiss) {\n      warnOnce('Flashbar', `You have set the \\`dismissible\\` prop without an \\`onDismiss\\` handler. This will render a non-interactive dismiss button.`);\n    }\n  }\n  const button = action || buttonText && actionButton(buttonText, onButtonClick);\n  const iconType = ICON_TYPES[type];\n  const icon = loading ? React.createElement(InternalSpinner, null) : React.createElement(InternalIcon, {\n    name: iconType\n  });\n  const effectiveType = loading ? 'info' : type;\n  const handleDismiss = event => {\n    sendDismissMetric(effectiveType);\n    onDismiss && onDismiss(event);\n  };\n  const analyticsAttributes = {\n    [DATA_ATTR_ANALYTICS_FLASHBAR]: effectiveType\n  };\n  return (\n    // We're not using \"polite\" or \"assertive\" here, just turning default behavior off.\n    // eslint-disable-next-line @cloudscape-design/prefer-live-region\n    React.createElement(\"div\", Object.assign({\n      ref: ref,\n      role: ariaRole,\n      \"aria-live\": ariaRole ? 'off' : undefined,\n      \"data-itemid\": id,\n      className: clsx(styles.flash, styles[`flash-type-${effectiveType}`], className, transitionState && {\n        [styles.enter]: transitionState === 'enter',\n        [styles.entering]: transitionState === 'entering',\n        [styles.entered]: transitionState === 'entered',\n        [styles.exit]: transitionState === 'exit',\n        [styles.exiting]: transitionState === 'exiting',\n        [styles.exited]: transitionState === 'exited'\n      })\n    }, analyticsAttributes), React.createElement(\"div\", {\n      className: styles['flash-body']\n    }, React.createElement(\"div\", {\n      className: styles['flash-focus-container'],\n      tabIndex: -1\n    }, React.createElement(\"div\", {\n      className: clsx(styles['flash-icon'], styles['flash-text']),\n      role: \"img\",\n      \"aria-label\": statusIconAriaLabel\n    }, icon), React.createElement(\"div\", {\n      className: clsx(styles['flash-message'], styles['flash-text'])\n    }, React.createElement(\"div\", {\n      className: styles['flash-header']\n    }, header), React.createElement(\"div\", {\n      className: styles['flash-content']\n    }, content))), button && React.createElement(\"div\", {\n      className: styles['action-button-wrapper']\n    }, button)), dismissible && dismissButton(dismissLabel, handleDismiss), ariaRole === 'status' && React.createElement(LiveRegion, null, statusIconAriaLabel, \" \", header, \" \", content))\n  );\n});","map":{"version":3,"names":["React","InternalSpinner","InternalIcon","clsx","styles","InternalButton","warnOnce","isDevelopment","throttle","LiveRegion","sendDismissMetric","FOCUS_THROTTLE_DELAY","DATA_ATTR_ANALYTICS_FLASHBAR","ICON_TYPES","success","warning","info","error","actionButton","buttonText","onButtonClick","createElement","onClick","className","formAction","dismissButton","dismissLabel","onDismiss","variant","iconName","ariaLabel","focusFlashById","element","itemId","selector","CSS","escape","_a","querySelector","focus","trailing","Flash","forwardRef","_ref","ref","id","header","content","dismissible","statusIconAriaLabel","loading","action","transitionState","ariaRole","type","button","iconType","icon","name","effectiveType","handleDismiss","event","analyticsAttributes","Object","assign","role","undefined","flash","enter","entering","entered","exit","exiting","exited","tabIndex"],"sources":["/Users/ndwang/Documents/projects/face2alias_aws/node_modules/@cloudscape-design/components/flashbar/lib/default/flashbar/flash.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { FlashbarProps } from './interfaces';\nimport React from 'react';\nimport InternalSpinner from '../spinner/internal';\nimport InternalIcon from '../icon/internal';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../button/internal';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { isDevelopment } from '../internal/is-development';\nimport { throttle } from '../internal/utils/throttle';\nimport LiveRegion from '../internal/components/live-region';\nimport { ButtonProps } from '../button/interfaces';\n\nimport { sendDismissMetric } from './internal/analytics';\n\nimport { FOCUS_THROTTLE_DELAY } from './utils';\nimport { DATA_ATTR_ANALYTICS_FLASHBAR } from '../internal/analytics/selectors';\n\nconst ICON_TYPES = {\n  success: 'status-positive',\n  warning: 'status-warning',\n  info: 'status-info',\n  error: 'status-negative',\n  'in-progress': 'status-in-progress',\n} as const;\n\nfunction actionButton(\n  buttonText: FlashbarProps.MessageDefinition['buttonText'],\n  onButtonClick: FlashbarProps.MessageDefinition['onButtonClick']\n) {\n  return (\n    <InternalButton onClick={onButtonClick} className={styles['action-button']} formAction=\"none\">\n      {buttonText}\n    </InternalButton>\n  );\n}\n\nfunction dismissButton(\n  dismissLabel: FlashbarProps.MessageDefinition['dismissLabel'],\n  onDismiss: FlashbarProps.MessageDefinition['onDismiss']\n) {\n  return (\n    <div className={styles['dismiss-button-wrapper']}>\n      <InternalButton\n        onClick={onDismiss}\n        className={styles['dismiss-button']}\n        variant=\"flashbar-icon\"\n        iconName=\"close\"\n        formAction=\"none\"\n        ariaLabel={dismissLabel}\n      />\n    </div>\n  );\n}\n\nexport const focusFlashById = throttle(\n  (element: HTMLElement | null, itemId: string) => {\n    const selector = `[data-itemid=\"${CSS.escape(itemId)}\"] .${styles['flash-focus-container']}`;\n    element?.querySelector<HTMLElement>(selector)?.focus();\n  },\n  FOCUS_THROTTLE_DELAY,\n  { trailing: false }\n);\n\nexport interface FlashProps extends FlashbarProps.MessageDefinition {\n  className: string;\n  transitionState?: string;\n}\n\nexport const Flash = React.forwardRef(\n  (\n    {\n      id,\n      header,\n      content,\n      dismissible,\n      dismissLabel,\n      statusIconAriaLabel,\n      loading,\n      action,\n      buttonText,\n      onButtonClick,\n      onDismiss,\n      className,\n      transitionState,\n      ariaRole,\n      type = 'info',\n    }: FlashProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (isDevelopment) {\n      if (buttonText && !onButtonClick) {\n        warnOnce(\n          'Flashbar',\n          `You provided a \\`buttonText\\` prop without an \\`onButtonClick\\` handler. This will render a non-interactive action button.`\n        );\n      }\n\n      if (dismissible && !onDismiss) {\n        warnOnce(\n          'Flashbar',\n          `You have set the \\`dismissible\\` prop without an \\`onDismiss\\` handler. This will render a non-interactive dismiss button.`\n        );\n      }\n    }\n\n    const button = action || (buttonText && actionButton(buttonText, onButtonClick));\n\n    const iconType = ICON_TYPES[type];\n\n    const icon = loading ? <InternalSpinner /> : <InternalIcon name={iconType} />;\n\n    const effectiveType = loading ? 'info' : type;\n\n    const handleDismiss: ButtonProps['onClick'] = event => {\n      sendDismissMetric(effectiveType);\n      onDismiss && onDismiss(event);\n    };\n\n    const analyticsAttributes = {\n      [DATA_ATTR_ANALYTICS_FLASHBAR]: effectiveType,\n    };\n\n    return (\n      // We're not using \"polite\" or \"assertive\" here, just turning default behavior off.\n      // eslint-disable-next-line @cloudscape-design/prefer-live-region\n      <div\n        ref={ref}\n        role={ariaRole}\n        aria-live={ariaRole ? 'off' : undefined}\n        data-itemid={id}\n        className={clsx(\n          styles.flash,\n          styles[`flash-type-${effectiveType}`],\n          className,\n          transitionState && {\n            [styles.enter]: transitionState === 'enter',\n            [styles.entering]: transitionState === 'entering',\n            [styles.entered]: transitionState === 'entered',\n            [styles.exit]: transitionState === 'exit',\n            [styles.exiting]: transitionState === 'exiting',\n            [styles.exited]: transitionState === 'exited',\n          }\n        )}\n        {...analyticsAttributes}\n      >\n        <div className={styles['flash-body']}>\n          <div className={styles['flash-focus-container']} tabIndex={-1}>\n            <div\n              className={clsx(styles['flash-icon'], styles['flash-text'])}\n              role=\"img\"\n              aria-label={statusIconAriaLabel}\n            >\n              {icon}\n            </div>\n            <div className={clsx(styles['flash-message'], styles['flash-text'])}>\n              <div className={styles['flash-header']}>{header}</div>\n              <div className={styles['flash-content']}>{content}</div>\n            </div>\n          </div>\n          {button && <div className={styles['action-button-wrapper']}>{button}</div>}\n        </div>\n        {dismissible && dismissButton(dismissLabel, handleDismiss)}\n        {ariaRole === 'status' && (\n          <LiveRegion>\n            {statusIconAriaLabel} {header} {content}\n          </LiveRegion>\n        )}\n      </div>\n    );\n  }\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}